<?xml version="1.0"?>

<f:view
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
	<h:head></h:head>
	<h:body>
		<ui:composition template="../template.xhtml">
			<ui:define name="main">
				<h:outputLabel 
					for="firstResult" 
					value="#{i18n['epf.persistence.query.firstResult']}" />
				<h:inputText 
					id="firstResult" 
					styleClass="#{style.css('persistence.query.firstResult')}" 
					value="#{epf_persistence_query.firstResult}" />
				<h:outputLabel 
					for="maxResults" 
					value="#{i18n['epf.persistence.query.maxResults']}" />
				<h:inputText 
					id="maxResults" 
					styleClass="#{style.css('persistence.query.maxResults')}" 
					value="#{epf_persistence_query.maxResults}" />
				<h:commandButton 
					styleClass="#{style.css('persistence.query.executeQuery')}" 
					value="#{i18n['epf.persistence.query.executeQuery']}" 
					action="#{epf_persistence_query.executeQuery}" />
				<h:outputLabel 
					title="#{epf_persistence_query.resultSize}"
					value="#{string.format(i18n['epf.persistence.query.resultList.size'], epf_persistence_query.resultSize)}" 
					styleClass="#{style.css('persistence.query.resultList.size')}" />
				<h:dataTable 
					rendered="#{not empty epf_persistence_query.attributes and epf_persistence_query.getResultList('') != null}" 
					value="#{epf_persistence_query.getResultList('')}" 
					var="resultVar" 
					styleClass="#{style.css('persistence.query.resultList')}">
					<h:column>
						<h:outputLabel 
							value="#{epf_persistence_query.getIndexOf('', resultVar)}"
							styleClass="#{style.css('persistence.query.resultList.indexOf')}" />
					</h:column>
					<h:column>
						<h:commandButton 
							value="#{i18n['epf.persistence.entity.merge']}" 
							styleClass="#{style.css('persistence.entity.merge')}"
							action="#{epf_persistence_query.merge('', resultVar)}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 0}">
						<f:facet name="header">
							<h:outputText value="#{epf_persistence_query.attributes[0].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[0].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[0].name))}"/>
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[0].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[0].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 1}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[1].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[1].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[1].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[1].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[1].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[1].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[1].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 2}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[2].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[2].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[2].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[2].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[2].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[2].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[2].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 3}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[3].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[3].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[3].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[3].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[3].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[3].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[3].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 4}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[4].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[4].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[4].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[4].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[4].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[4].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[4].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 5}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[5].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[5].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[5].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[5].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[5].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[5].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[5].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 6}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[6].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[6].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[6].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[6].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[6].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[6].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[6].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 7}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[7].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[7].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[7].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[7].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[7].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[7].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[7].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 8}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[8].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[8].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[8].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[8].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[8].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[8].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[8].name))}" />
					</h:column>
					<h:column rendered="#{epf_persistence_query.attributes.size() gt 9}">
						<f:facet name="header">
							<h:commandButton 
								action="#{epf_persistence_query.move(epf_persistence_query.attributes[9].name)}" 
								value="#{i18n['epf.persistence.query.resultList.move']}" 
								styleClass="#{style.css('persistence.query.resultList.move.'.concat(epf_persistence_query.attributes[9].name))}" />
							<h:outputText value="#{epf_persistence_query.attributes[9].name}" />
							<h:commandButton 
								action="#{epf_persistence_query.sort(epf_persistence_query.attributes[9].name)}" 
								value="#{i18n['epf.persistence.query.resultList.sort']}" 
								styleClass="#{style.css('persistence.query.resultList.sort.'.concat(epf_persistence_query.attributes[9].name))}" />
						</f:facet>
						<h:outputLabel 
							value="#{resultVar[epf_persistence_query.attributes[9].name]}"
							styleClass="#{style.css('persistence.query.attributes.'.concat(epf_persistence_query.attributes[9].name))}" />
					</h:column>
				</h:dataTable>
			</ui:define>
		</ui:composition>
	</h:body>
</f:view>
